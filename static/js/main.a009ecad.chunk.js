(this["webpackJsonpminesweeper-online"]=this["webpackJsonpminesweeper-online"]||[]).push([[0],{20:function(e,n,t){},21:function(e,n,t){},27:function(e,n,t){e.exports=t(53)},32:function(e,n,t){},46:function(e,n,t){},47:function(e,n,t){},53:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(9),i=t.n(o),c=(t(32),t(1)),l=t(6),u=t(23),s=t.n(u),f=(t(46),t(2)),m=(t(47),t(24)),d=t(16),h=t(25),v=function(){function e(n,t){Object(m.a)(this,e),this.cases=void 0,this.initialState=void 0,this.initialState=n,this.cases=t}return Object(d.a)(e,null,[{key:"create",value:function(n){return new e(n,[])}}]),Object(d.a)(e,[{key:"addCase",value:function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];var a=t[0],o=t[1],i=[].concat(Object(f.a)(this.cases),[[a,o]]);return new e(this.initialState,i)}},{key:"build",value:function(){var e=this.cases.reduce((function(e,n){var t=Object(c.a)(n,2),r=t[0],a=t[1];return e[r]=function(e,n){return a(e,n),e},e}),{});return Object(h.a)(this.initialState,e)}}]),e}();function E(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=n[0],a=n[1];return[[r-1,a],[r-1,a-1],[r,a-1],[r+1,a-1],[r+1,a],[r+1,a+1],[r,a+1],[r-1,a+1]]}function p(e){return function(n){return n[e]}}function g(e){return function(n){return function(t,r){return n(e(t),r)}}}function C(e,n){return function(t,r){var a=e(t,r);return null==a?null:n(a,r)}}function w(e,n){return Object(l.c)((function(t){return e(t,n)}))}function M(e){return Object(l.c)((function(n){return e(n,{})}))}function S(e,n){for(var t=[],r=0;r<e.length;r+=n)t.push(e.slice(r,r+n));return t}var b={cells:O(14,7,25),lost:!1};function O(e,n,t){var r=e*n,a=r-t;t=Math.min(r-1,t);var o=Array(a-1).fill({stateKnown:!1,isMine:!1}),i=Array(1).fill({stateKnown:!0,isMine:!1}),c=Array(t).fill({stateKnown:!1,isMine:!0});return S(function(e){for(var n,t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1));n=e[t],e[t]=e[r],e[r]=n}return e}([].concat(Object(f.a)(o),Object(f.a)(i),Object(f.a)(c))),n)}var T=v.create(b).addCase("CLEAR_CELL",(function(e,n){var t=L(e,n);if(null===t)return e;t.isMine?e.lost=!0:t.stateKnown=!0})).addCase("FLAG_CELL",(function(e,n){var t=L(e,n);if(null===t)return e;t.isMine?t.stateKnown=!0:e.lost=!0})).addCase("REGENERATE_BOARD",(function(e,n){var t=n.width,r=n.height,a=n.mines;e.cells=O(t,r,a)})).addCase("LOAD_BOARD",(function(e,n){var t=n.mines,r=n.start;e.cells=function(e,n){for(var t=e[0].length,r=[],a=0;a<e.length;a++)for(var o=0;o<t;o++){var i={stateKnown:a===n[0]&&o===n[1],isMine:1===e[a][o]};r.push(i)}return S(r,t)}(t,r)})).build(),R=g(p("board")),N=R((function(e){return e.cells})),x=C(N,(function(e){return e.length})),y=C(N,(function(e){return e[0].length})),A=C(N,(function(e){return e.flatMap((function(e){return e})).filter((function(e){return e.isMine})).length})),_=C(N,(function(e){return e.flatMap((function(e){return e})).filter((function(e){return e.isMine&&!e.stateKnown})).length})),j=C(N,(function(e){return e.every((function(e){return e.every((function(e){return e.stateKnown}))}))}));function L(e,n){var t=Object(c.a)(n.coordinate,2),r=t[0],a=t[1],o=e.cells[r];if(null==o)return null;var i=o[a];return null==i?null:i}function I(e,n){var t=L(e,n);if(null==t)return null;var r=t.stateKnown,a=t.isMine?"X":E.apply(void 0,Object(f.a)(n.coordinate)).map((function(n){return L(e,{coordinate:n})})).filter((function(e){return null!==e&&e.isMine})).length;return{coordinate:n.coordinate,cellState:a,cellStateKnown:r}}var D=R(I),B=C(D,(function(e){return e.cellState})),k=C(D,(function(e){return e.cellStateKnown}));function G(e,n){var t=n.coordinate;return E.apply(void 0,Object(f.a)(t)).map((function(n){var t=Object(c.a)(n,2),r=t[0],a=t[1];return I(e,{coordinate:[r,a]})})).filter((function(e){return null!=e}))}C(R(G),(function(e){return e.filter((function(e){return!e.cellStateKnown}))}));var K=R((function(e,n){var t=Object(c.a)(n.coordinate,2),r=t[0],a=t[1],o=I(e,{coordinate:[r,a]});if(null==o)return null;if(!o.cellStateKnown)return null;if("X"===o.cellState)return null;var i=G(e,{coordinate:[r,a]}),l=i.filter((function(e){return!e.cellStateKnown})).map((function(e){return e.coordinate}));if(0===l.length)return null;var u=i.filter((function(e){return e.cellStateKnown&&"X"===e.cellState})),s=o.cellState-u.length;return{coords:l,minMines:s,maxMines:s}})),F=C(N,(function(e){return e.flatMap((function(e,n){return e.map((function(e,t){return[n,t,e.stateKnown]})).filter((function(e){var n=Object(c.a)(e,3);n[0],n[1];return!n[2]})).map((function(e){var n=Object(c.a)(e,3),t=n[0],r=n[1];n[2];return[t,r]}))}))})),P=R((function(e){for(var n=[],t=0;t<e.cells[0].length;t++)for(var r=0;r<e.cells.length;r++)n.push([r,t]);return n}));function Z(e){return e.maxMines<=0}function W(e){return e.minMines>=e.coords.length}function X(e,n){return null===e||null===n?null:function(e,n){if(null===e&&null===n)return!0;if(null===e||null===n)return!1;var t=e.coords,r=n.coords;return t.every((function(e){return J.apply(void 0,[n].concat(Object(f.a)(e)))}))&&r.every((function(n){return J.apply(void 0,[e].concat(Object(f.a)(n)))}))}(e,n)?e.minMines<=n.minMines&&e.maxMines>=n.maxMines?null:n.minMines<=e.minMines&&n.maxMines>=e.maxMines?null:{coords:e.coords,minMines:Math.max(e.minMines,n.minMines),maxMines:Math.min(e.maxMines,n.maxMines)}:null}function J(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var a=t[0],o=t[1];return e.coords.some((function(e){var n=Object(c.a)(e,2),t=n[0],r=n[1];return a===t&&o===r}))}function H(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var a=t[0],o=t[1];return e.filter((function(e){var n=Object(c.a)(e,2),t=n[0],r=n[1];return a!==t||o!==r}))}function q(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var a=t[0],o=t[1];if(!J(e,a,o))return e;if(1===e.coords.length)return null;var i=H(e.coords,a,o),c=Math.min(i.length,e.minMines),l=Math.min(i.length,e.maxMines);return{coords:i,minMines:c,maxMines:l}}function $(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var a=t[0],o=t[1];if(!J(e,a,o))return e;if(1===e.coords.length)return null;var i=H(e.coords,a,o),c=Math.max(0,e.minMines-1),l=Math.max(0,e.maxMines-1);return{coords:i,minMines:c,maxMines:l}}function z(e,n){n.coords.forEach((function(n){return e({type:"CLEAR_CELL",coordinate:n})}))}function Q(e,n){n.coords.forEach((function(n){return e({type:"FLAG_CELL",coordinate:n})}))}function U(e,n){return{gridTemplateColumns:"repeat(".concat(e,", 60px)"),gridTemplateRows:"repeat(".concat(n,", 60px)")}}function V(e,n){return e.some((function(e){return Z(e)&&J.apply(void 0,[e].concat(Object(f.a)(n)))}))?"#0f05":e.some((function(e){return W(e)&&J.apply(void 0,[e].concat(Object(f.a)(n)))}))?"#f005":e.some((function(e){return J.apply(void 0,[e].concat(Object(f.a)(n)))}))?"#0003":"transparent"}function Y(e,n){return e.some((function(e){return J.apply(void 0,[e].concat(Object(f.a)(n)))}))?"#f905":"transparent"}function ee(e,n){return e.some((function(e){return J.apply(void 0,[e].concat(Object(f.a)(n)))}))?"#09f5":"transparent"}var ne=function(e){var n=e.selectConstraints,t=e.colorSelector,r=M(n),o=M(x),i=M(y),l=M(P);return 0===r.length?null:a.a.createElement("div",{className:"overlayContainer",style:U(o,i)},l.map((function(e){var n=Object(c.a)(e,2),o=n[0],i=n[1];return a.a.createElement("div",{key:"".concat(o,",").concat(i),style:{background:t(r,[o,i])}})})))};t(20);function te(){return Object(l.b)()}var re=v.create({showRemaining:!1,cheatMode:!1,autoZero:!0,autoClear:!1,autoFlag:!1,showCoords:!1,showSubtraction:!1,showReduce:!1,showMerge:!1,showBoardConstraint:!1,showOptions:!1,resolveComplex:!1}).addCase("SET_OPTION",(function(e,n){var t=n.option,r=n.value;e[t]=r})).addCase("LOAD_BOARD",(function(e,n){var t=n.options;Object.assign(e,t)})).build(),ae=g(p("options")),oe=ae((function(e){return e.cheatMode})),ie=ae((function(e){return e.autoZero})),ce=ae((function(e){return e.autoClear})),le=ae((function(e){return e.autoFlag})),ue=ae((function(e){return e.showRemaining})),se=ae((function(e){return e.showCoords})),fe=ae((function(e){return e.showSubtraction})),me=ae((function(e){return e.showReduce})),de=ae((function(e){return e.showMerge})),he=ae((function(e){return e.showSubtraction||e.showReduce||e.showMerge})),ve=ae((function(e){return e.showBoardConstraint})),Ee=ae((function(e){return e.showOptions})),pe=ae((function(e){return e.resolveComplex})),ge=function(e){var n=w(B,e),t=w(k,e),r=w(K,e),o=te(),i="cell";function c(e){e.coords.forEach((function(e){return o({type:"CLEAR_CELL",coordinate:e})}))}function l(e){e.coords.forEach((function(e){return o({type:"FLAG_CELL",coordinate:e})}))}null!==r&&(i+=" clickable"),M(oe)&&null!==r&&(Z(r)?i+=" clearable":W(r)&&(i+=" flaggable"));var u=M(ie),s=M(ce),f=M(le);t&&null!==r&&(u&&0===n&&c(r),s&&Z(r)&&c(r),f&&W(r)&&l(r));var m="",d=M(ue);if(t){if(d&&"X"!==n)m=(null===r?0:r.maxMines).toString();else m=n.toString();i+=" state".concat(m)}return a.a.createElement("div",{className:i,onPointerEnter:null===r?void 0:function(){return o({type:"SET_TARGET_CONSTRAINTS",constraints:[r]})},onPointerLeave:null===r?void 0:function(){return o({type:"SET_TARGET_CONSTRAINTS",constraints:[]})},onClick:function(e){if(e.preventDefault(),e.stopPropagation(),null!==r)return Z(r)?c(r):W(r)?l(r):o({type:"SELECT_CONSTRAINT",constraint:r})}},m)},Ce=function(){var e=M(x),n=M(y),t=M(P);return a.a.createElement("div",{className:"boardContainer",style:U(e,n)},t.map((function(e){var n=Object(c.a)(e,2),t=n[0],r=n[1];return a.a.createElement(ge,{key:"".concat(t,",").concat(r),coordinate:[t,r]})})))},we=(t(21),function(e){var n=e.index,t="cell";return M(se)&&(t+=" enabled"),a.a.createElement("div",{className:t},n)}),Me=function(){var e=M(x),n=M(y),t=M(P);return a.a.createElement("div",{className:"coordsContainer",style:U(e,n)},t.map((function(e,n){var t=Object(c.a)(e,2),r=t[0],o=t[1];return a.a.createElement(we,{key:"".concat(r,",").concat(o),index:n})})))},Se=(t(8),function(e){var n=e.selector,t=e.text,r=e.option,o=M(n),i=te();return a.a.createElement("div",null,a.a.createElement("label",null,t,":",a.a.createElement("input",{name:"showRemaining",type:"checkbox",checked:o,onChange:function(e){return i({type:"SET_OPTION",option:r,value:e.target.checked})}})))}),be=function(){return a.a.createElement("div",{className:"panel"},a.a.createElement("div",{className:"header"},"Options:"),a.a.createElement(Se,{selector:ue,option:"showRemaining",text:"Show Remaining"}),a.a.createElement(Se,{selector:oe,option:"cheatMode",text:"Cheat Mode"}),a.a.createElement(Se,{selector:ie,option:"autoZero",text:"Auto Zero"}),a.a.createElement(Se,{selector:ce,option:"autoClear",text:"Auto Clear"}),a.a.createElement(Se,{selector:le,option:"autoFlag",text:"Auto Flag"}),a.a.createElement(Se,{selector:pe,option:"resolveComplex",text:"Resolve Complex"}),a.a.createElement(Se,{selector:fe,option:"showSubtraction",text:"Show Subtraction"}),a.a.createElement(Se,{selector:me,option:"showReduce",text:"Show Reduce"}),a.a.createElement(Se,{selector:de,option:"showMerge",text:"Show Merge"}),a.a.createElement(Se,{selector:ve,option:"showBoardConstraint",text:"Show Board Constraint"}))},Oe=t(26),Te=function(e){var n=e.name,t=e.save,r=te();return a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){return r(Object(Oe.a)({type:"LOAD_BOARD"},t))}},n))},Re={mines:[[0,0,0,1,0,0,0],[0,0,0,1,0,1,1],[0,0,0,0,0,0,1],[0,0,0,0,0,0,1],[0,1,0,0,1,0,0],[0,0,0,0,0,0,1],[0,1,1,1,1,0,1],[0,0,0,0,0,0,0],[0,0,0,0,1,0,1],[0,0,0,0,0,1,0],[0,0,0,0,1,1,0],[0,1,0,1,0,0,0],[0,1,0,0,0,0,1],[0,0,0,1,1,0,0]],start:[0,0],options:{showRemaining:!1,cheatMode:!1,autoZero:!0,autoClear:!1,autoFlag:!1,resolveComplex:!0,showSubtraction:!1,showReduce:!1,showMerge:!1,showBoardConstraint:!1}},Ne={mines:[[0,0,0,0,0],[0,0,1,0,0],[0,0,1,1,1],[0,0,1,0,0],[0,0,0,0,0]],start:[0,0],options:{showRemaining:!1,cheatMode:!1,autoZero:!0,autoClear:!1,autoFlag:!1,resolveComplex:!0,showSubtraction:!1,showReduce:!1,showMerge:!1,showBoardConstraint:!1}},xe={mines:[[0,0,1],[0,0,0],[0,0,0],[0,0,1]],start:[0,0],options:{showRemaining:!1,cheatMode:!1,autoZero:!0,autoClear:!1,autoFlag:!1,resolveComplex:!0,showSubtraction:!0,showReduce:!1,showMerge:!1,showBoardConstraint:!1}},ye={mines:[[0,0,0,0],[0,0,1,0],[0,0,0,0],[0,0,0,0],[0,0,1,0],[0,1,0,0]],start:[3,0],options:{showRemaining:!1,cheatMode:!0,autoZero:!0,autoClear:!1,autoFlag:!1,resolveComplex:!0,showSubtraction:!0,showReduce:!1,showMerge:!1,showBoardConstraint:!1}},Ae={mines:[[0,1,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0],[0,0,1,0],[0,0,0,0],[0,1,0,0]],start:[2,0],options:{showRemaining:!1,cheatMode:!0,autoZero:!0,autoClear:!1,autoFlag:!1,resolveComplex:!0,showSubtraction:!0,showReduce:!0,showMerge:!0,showBoardConstraint:!1}},_e={mines:[[0,0,1,1,0,0],[0,0,0,0,0,0],[1,0,0,0,0,1],[1,0,0,0,0,1],[0,0,0,0,0,0],[0,0,1,1,0,0]],start:[3,3],options:{showRemaining:!1,cheatMode:!0,autoZero:!0,autoClear:!1,autoFlag:!1,resolveComplex:!0,showSubtraction:!0,showReduce:!0,showMerge:!0,showBoardConstraint:!1}},je={mines:[[0,1,1,0],[0,0,0,0],[0,0,0,1],[0,0,0,1],[0,0,0,0],[0,1,1,0]],start:[2,0],options:{showRemaining:!1,cheatMode:!0,autoZero:!0,autoClear:!1,autoFlag:!1,resolveComplex:!0,showSubtraction:!0,showReduce:!0,showMerge:!0,showBoardConstraint:!0}},Le=function(){return a.a.createElement("div",{className:"panel"},a.a.createElement("div",{className:"header"},"Load:"),a.a.createElement(Te,{name:"Real",save:Re}),a.a.createElement(Te,{name:"Basic Training",save:Ne}),a.a.createElement(Te,{name:"Subtraction Training 1",save:xe}),a.a.createElement(Te,{name:"Subtraction Training 2",save:ye}),a.a.createElement(Te,{name:"Reduction Training 1",save:Ae}),a.a.createElement(Te,{name:"Reduction Training 2",save:_e}),a.a.createElement(Te,{name:"Whole Board Training",save:je}))},Ie=function(){var e=te(),n=M(y),t=M(x),r=M(A);return a.a.createElement("div",{className:"panel"},a.a.createElement("div",{className:"header"},"Generate:"),a.a.createElement("div",null,a.a.createElement("label",null,"Width:",a.a.createElement("input",{name:"width",type:"text",value:t,onChange:function(t){var a=Number.parseInt(t.target.value);null!=a&&e({type:"REGENERATE_BOARD",width:a,height:n,mines:r})}}))),a.a.createElement("div",null,a.a.createElement("label",null,"Height:",a.a.createElement("input",{name:"height",type:"text",value:n,onChange:function(n){var a=Number.parseInt(n.target.value);null!=a&&e({type:"REGENERATE_BOARD",width:t,height:a,mines:r})}}))),a.a.createElement("div",null,a.a.createElement("label",null,"Mines:",a.a.createElement("input",{name:"mines",type:"text",value:r,onChange:function(r){var a=Number.parseInt(r.target.value);null!=a&&e({type:"REGENERATE_BOARD",width:t,height:n,mines:a})}}))),a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){return e({type:"REGENERATE_BOARD",width:t,height:n,mines:r})}},"Regenerate")))},De=function(){var e=te(),n=M(Ee);return a.a.createElement("div",{className:"optionsWrapper",onMouseEnter:function(){return e({type:"SET_OPTION",option:"showOptions",value:!0})},onMouseLeave:function(){return e({type:"SET_OPTION",option:"showOptions",value:!1})}},a.a.createElement("div",{hidden:!n,className:"allOptions"},a.a.createElement(be,null),a.a.createElement(Le,null),a.a.createElement(Ie,null)))},Be=function(){var e=te();return M(j)?a.a.createElement("h1",null,"Success!"):a.a.createElement("h1",{onMouseEnter:function(){e({type:"SET_OPTION",option:"showCoords",value:!0})},onMouseLeave:function(){e({type:"SET_OPTION",option:"showCoords",value:!1})}},"Minesweeper")};t(7);function ke(e){return 0===e.length?a.a.createElement("div",{className:"constraintEmpty"},"Nothing selected"):function(e){var n=e.coords,t=e.minMines,r=e.maxMines,o=n.length,i="Cell".concat(o>1?"s":""),c=t===r,l="".concat(t," ").concat(c?"":"to ".concat(r)),u=1===r?"Mine":"Mines";return a.a.createElement("div",{className:"constraintInfo"},a.a.createElement("div",null,"".concat(o," ").concat(i)),a.a.createElement("div",null,"".concat(l," ").concat(u)))}(e[0])}var Ge=function(e){var n=e.constraintName,t=e.constraintsSelector,r=e.colorSelector,o=M(t).filter((function(e){return null!==e}));return a.a.createElement("div",{className:"constraint",style:{background:r(o)}},a.a.createElement("div",{className:"constraintName"},n),ke(o))},Ke=g(p("constraints")),Fe=(Ke((function(e){return e.first})),Ke((function(e){return null===e.first?[]:[e.first]}))),Pe=(Ke((function(e){return e.second})),Ke((function(e){return null===e.second?[]:[e.second]}))),Ze=Ke((function(e){return e.targets})),We=Ke((function(e){return null!==e.first||null!==e.second})),Xe=Ke((function(e){return function(e,n){if(null===e||null===n)return null;var t=e.coords.length>n.coords.length?[e,n]:[n,e],r=Object(c.a)(t,2),a=r[0],o=r[1];if(a.coords.length<=o.coords.length)return null;if(o.coords.some((function(e){return!J.apply(void 0,[a].concat(Object(f.a)(e)))})))return null;var i=a.coords.filter((function(e){var n=Object(c.a)(e,2),t=n[0],r=n[1];return!J(o,t,r)})),l=a.minMines-o.maxMines,u=a.maxMines-o.minMines,s=Math.min(Math.max(l,0),i.length),m=Math.min(Math.max(u,0),i.length);return 0===s&&m===i.length?null:{coords:i,minMines:s,maxMines:m}}(e.first,e.second)})),Je=Ke((function(e){return X(e.first,e.second)})),He=Ke((function(e){return function(e,n){if(null===e||null!==n)return[];var t=e.coords.length-1,r=Math.min(Math.max(e.minMines-1,0),t),a=Math.min(e.maxMines,t);return 0===r&&a===t?[]:e.coords.map((function(n){var t=Object(c.a)(n,2),r=t[0],a=t[1];return e.coords.filter((function(e){var n=Object(c.a)(e,2),t=n[0],o=n[1];return r!==t||a!==o}))})).map((function(e){return{coords:e,minMines:r,maxMines:a}}))}(e.first,e.second)})),qe=Ke((function(e){return e.complexConstraints}));function $e(e){return e.some((function(e){return Z(e)}))?"#0f05":e.some((function(e){return W(e)}))?"#f005":"#ddd"}function ze(e){return 0===e.length?"#ddd":"#fc9"}function Qe(e){return 0===e.length?"#ddd":"#9cf"}var Ue=function(){return a.a.createElement("div",{className:"selectedConstraints"},a.a.createElement(Ge,{constraintName:"Constraint 1",constraintsSelector:Fe,colorSelector:ze}),a.a.createElement(Ge,{constraintName:"Constraint 2",constraintsSelector:Pe,colorSelector:Qe}),a.a.createElement(Ge,{constraintName:"Targets",constraintsSelector:Ze,colorSelector:$e}))},Ve=function(e){var n=e.text,t=e.constraints,r=te(),o=M(pe),i="constraintButton";return 0!==t.length&&(i+=" enabled"),a.a.createElement("button",{onClick:function(e){if(e.preventDefault(),e.stopPropagation(),0!==t.length)if(r({type:"CLEAR_SELECTED_CONSTRAINTS"}),o){t.filter((function(e){return Z(e)})).forEach((function(e){return z(r,e)})),t.filter((function(e){return W(e)})).forEach((function(e){return Q(r,e)}));var n=t.filter((function(e){return!Z(e)&&!W(e)}));r({type:"ADD_CONSTRAINTS",constraints:n})}else r({type:"ADD_CONSTRAINTS",constraints:t})},onMouseEnter:function(){0!==t.length&&r({type:"SET_TARGET_CONSTRAINTS",constraints:t})},onMouseLeave:function(){0!==t.length&&r({type:"SET_TARGET_CONSTRAINTS",constraints:[]})},className:i},n)},Ye=function(){var e=M(We),n=te(),t=M(Xe),r=M(He),o=M(Je),i=M(fe),c=M(me),l=M(de),u=null===t?[]:[t],s=r.filter((function(e){return null!==e})),f=null===o?[]:[o];return a.a.createElement("div",{className:"constraintActions"},a.a.createElement("button",{onClick:function(){e&&n({type:"CLEAR_SELECTED_CONSTRAINTS"})},className:"constraintButton".concat(e?" enabled":"")},"Deselect"),i?a.a.createElement(Ve,{constraints:u,text:"Subtract"}):null,c?a.a.createElement(Ve,{constraints:s,text:"Reduce"}):null,l?a.a.createElement(Ve,{constraints:f,text:"Merge"}):null)},en=function(e){var n=e.constraint,t=e.index,r=void 0===t?null:t,o=n.coords,i=n.minMines,c=n.maxMines,l=o.length,u=te(),s=Z(n),f=W(n);M(ce)&&s&&z(u,n),M(le)&&f&&Q(u,n);var m="constraint";return M(oe)&&(s?m+=" clearable":f&&(m+=" flaggable")),a.a.createElement("div",{onClick:function(){if(null!==n)return s?z(u,n):f?Q(u,n):u({type:"SELECT_CONSTRAINT",constraint:n})},onContextMenu:function(e){e.preventDefault(),e.stopPropagation(),null!==r&&u({type:"DELETE_CONSTRAINT",index:r})},onMouseEnter:function(){return u({type:"SET_TARGET_CONSTRAINTS",constraints:[n]})},onMouseLeave:function(){return u({type:"SET_TARGET_CONSTRAINTS",constraints:[]})},className:m},a.a.createElement("div",null,"Cells: ",l),a.a.createElement("div",null,"Mines: ",i," - ",c))},nn=function(){var e=M(qe),n=M(F),t=M(_),r={coords:n,minMines:t,maxMines:t},o=M(ve);return M(he)?a.a.createElement("div",{className:"constraintList"},a.a.createElement("div",{className:"listHeader"},"Complex Constraints:"),a.a.createElement("div",{className:"listBody"},o&&r.maxMines>0?a.a.createElement(en,{constraint:r}):null,e.map((function(e,n){return a.a.createElement(en,{key:JSON.stringify(e),constraint:e,index:n})})))):null},tn=t(3),rn={first:null,second:null,targets:[],complexConstraints:[]};function an(e){e.first=null,e.second=null,e.targets=[]}var on=v.create(rn).addCase("SELECT_CONSTRAINT",(function(e,n){var t=n.constraint;e.first!==t&&e.second!==t&&(e.targets=[],null===e.first?e.first=t:e.second=t)})).addCase("SET_TARGET_CONSTRAINTS",(function(e,n){var t=n.constraints;e.targets=t.filter((function(e){return null!==e}))})).addCase("CLEAR_SELECTED_CONSTRAINTS",(function(e,n){an(e)})).addCase("CLEAR_CELL",(function(e,n){var t=n.coordinate;an(e),e.complexConstraints=e.complexConstraints.map((function(e){return q.apply(void 0,[e].concat(Object(f.a)(t)))})).filter((function(e){return null!==e}))})).addCase("FLAG_CELL",(function(e,n){var t=n.coordinate;an(e),e.complexConstraints=e.complexConstraints.map((function(e){return $.apply(void 0,[e].concat(Object(f.a)(t)))})).filter((function(e){return null!==e}))})).addCase("REGENERATE_BOARD",(function(e,n){Object.assign(e,rn)})).addCase("LOAD_BOARD",(function(e,n){Object.assign(e,rn)})).addCase("DELETE_CONSTRAINT",(function(e,n){var t=n.index;e.complexConstraints.splice(t,1),an(e)})).addCase("ADD_CONSTRAINTS",(function(e,n){var t,r=n.constraints;(t=e.complexConstraints).push.apply(t,Object(f.a)(r))})).build(),cn=Object(tn.combineReducers)({board:T,constraints:on,options:re}),ln=t(11),un=Object(tn.createStore)(cn,Object(ln.devToolsEnhancer)({})),sn=function(){var e=Object(r.useState)(!0),n=Object(c.a)(e,2),t=n[0],o=n[1];return a.a.createElement(l.a,{store:un},a.a.createElement(s.a,{style:{content:{width:"300px",height:"200px"}},isOpen:t,onRequestClose:function(){return o(!1)},contentLabel:"Introduction Modal"},a.a.createElement("h2",null,"Instructions"),a.a.createElement("p",null,'If this is your first time using the tool, make sure you read the "instructions" section of the Github Readme. It explains how everything works!'),a.a.createElement("a",{href:"https://github.com/stevenwaterman/Minesweeper-Constrained/blob/master/README.md#instructions"},"Click me to go there!")),a.a.createElement("div",{className:"columns"},a.a.createElement("div",{className:"leftColumn"},a.a.createElement(Be,null),a.a.createElement("div",{className:"board"},a.a.createElement(Me,null),a.a.createElement(ne,{selectConstraints:Ze,colorSelector:V}),a.a.createElement(ne,{selectConstraints:Fe,colorSelector:Y}),a.a.createElement(ne,{selectConstraints:Pe,colorSelector:ee}),a.a.createElement(Ce,null)),a.a.createElement(Ue,null),a.a.createElement(Ye,null),a.a.createElement(nn,null)),a.a.createElement("div",{className:"rightColumn"},a.a.createElement(De,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(sn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},7:function(e,n,t){},8:function(e,n,t){}},[[27,1,2]]]);
//# sourceMappingURL=main.a009ecad.chunk.js.map